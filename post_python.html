<!DOCTYPE html>
<html lang="ko">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>형주의 블로그</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/blog-post.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">형주의 블로그</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#">About</a>
                    </li>
                    <li>
                        <a href="list_python.html">Python</a>
                    </li>
                    <li>
                        <a href="#">Music</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container">

        <div class="row">

            <div class="col-lg-8 col-lg-offset-2">

                <!-- Blog Post -->
                
                    <!-- Title -->
                    <div class="categoryTitleDIV">
                        <div class="category">CATEGORY</div>
                        <h1>Python</h1>    
                    </div>
                    

                    <hr class="customHr">
                
                <div class="list-module">    
                    <!-- Conents List -->
                    <center><h1>파이썬으로 웹 크롤링하기</h1></center>
                    <center><div class="category">2016년 8월 22일</div></center>
                    
                    <br>
                    <img class="img-responsive" src="http://placehold.it/900x300" alt="">
                    <br>

                        <p></p>
                        <h2>왜?</h2>
                        <p><strong>Python입문용</strong>으로 쉽게 할 수 있는 웹크롤링을 해봤다.
                        내가 자주 방문하는 구제쇼핑몰에서 내가 <strong>원하는 상품</strong>을 <strong>알림</strong>받고 싶었다.
                        사이즈 250짜리 신발 새 제품이 나올 때 마다 <strong>텔레그램 메신져의 봇</strong>이 나에게 <strong>메세지</strong>를 보낸다.</p>
                        <h2>개발환경 및 Library</h2>
                        <h4>개발환경</h4>
                        <ul><li>
                        개발환경 : MacOS El Capitan Laptop</li>
                        <li>
                        운영환경 : CentOS release 6.8</li>
                        <li>
                        언어 : Python3</li>
                        </ul>
                        <h5>라이브러리</h5>
                        <ul><li>
                        <p>Python pip</p>
                        <ul><li>
                        Beautiful Soup4</li>
                        <li>
                        Telepot</li>
                        </ul>
                        </li>
                        <li>
                        <p>Telegram Messenger</p>
                        <ul><li>
                        Telegram Bot</li>
                        </ul>
                        </li>
                        </ul>
                        <h3>사용기술?</h3>
                        <ul><li>
                        <p>Linux cronTab</p>
                        <p>​</p>
                        </li>
                        </ul>
                        <h2>시나리오</h2>
                        <ul><li>
                        <p>파이썬 코드 작성</p>
                        <ul><li>
                        원하는 URL을 HTML로 파싱</li>
                        <li>
                        신상품이 있거나, 신상품이 있지만 품절인 상품이 없는 경우만 다음으로 진행</li>
                        <li>
                        상품 목록 중 신상품만 Filter</li>
                        <li>
                        신상품 중 Sold Out이 아닌 것만 Filter</li>
                        <li>
                        상품의 이미지와 URL을 Telepot을 통해 TeleBot에게 전송</li>
                        </ul>
                        </li>
                        <li>
                        <p>텔레그램 메신저에서 제공해주는 TeleBot이 나에게 메세지 전송</p>
                        </li>
                        <li>
                        <p>Linux Crontab으로 Python Code를 매일 12시 6시 예약.</p>
                        </li>
                        </ul>
                        <p></p>
                        <h2>개발</h2>
                        <p>가장 먼저 개발 환경부터 구성했다.<br/>
                        나는 MacOS 사용자 이기 때문에 터미널에서 Python3, pip, Beautiful Soup4, Telepot을 설치했다.<br/>
                        개발환경 끝!<br/></p>
                        <p>그 다음으로 알림받을 메신져 텔레그램을 맥북, 아이패드, 아이폰에 모두 설치했다.<br/></p>
                        <p><strong>텔레그램 Bot 받기</strong><br/>
                        텔레그램 봇은 @BotFather 봇을 채팅 목록에 추가 후 받을 수 있다.<br/>
                        딱 이미지만 봐도 봇을 주게 생겼다..;<br/></p>
                        <p><strong>Python Code 짜기</strong><br/>
                        이제 바로 Python Code를 짜기만 하면된다.<br/>
                        후..<br/>
                        항상 셋팅까지 다 하고 코드를 짜려는 순간이 가장 귀찮다...<br/>
                        ..<br/>
                        ..<br/>
                        ..<br/></p>
                        <p></p>
                        <p><strong>반복 예약설정</strong>
                        Linux의 Crontab을 통해 반복 예약 작업을 해주면 된다.
                        사용 방법은 간단하다.<br/></p>
                        <p><strong>예외처리</strong>
                        이놈이 잘 돌아가고 있는지 프로그램에서 Exception이 생겼는지 항상 모니터링 할 수 없기 때문에 이 프로그램을 전체를 예외처리 한 후 실패 할 경우 실패한 Exception을 메시지로 받도록 처리했다.<br/></p>
                        <h2>느낀점</h2>
                        <ul><li>
                        언제나 늘 그렇지만 말로는 쉬워도 해보면 막상 그렇지 않다.</li>
                        <li>
                        코드를 짜는 것 뿐만 아니라 프로그램의 시나리오를 구성하는것도 충분한 생각을 한 후에 실행하는것이 좋다.</li>
                        <li>
                        리펙토링 해야겠다.</li>
                        <li>
                        리펙토링이 끝나면 동적으로 다시 하나 설계해보자</li>
                        </ul>
                        <h2>추가기능, 개선해야 사항</h2>
                        <ul><li>
                        Ver 1.0에서의 NewItemBot은 일방적으로 자료를 보내주는 방식.
                        봇에게 명령을 해서 프로그램의 시작, 종료 등을 할 수 있도록 추가적인 기능이 필요하다.</li>
                        <li>
                        봇에게 메세지를 보내서 가장 최근 상품 값을 입력 할 수 있도록 개선이 필요하다.</li>
                        <li>
                        파이썬 프로그램이 Exception 발생으로 종료가 된다면 그 즉시 예외처리를 통해 메시지로 전송을 받을 수 있도록 개선이 필요하다.</li>
                        </ul>
                        <p></p>

                    <br>
                    <div class="readMoreDIV">
                        <a href="list_python.html" class="readMore">목록으로 돌아가기</a>
                    </div>

                </div>                
            </div>

        </div>
        <!-- /.row -->

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <a target="_blank" href="https://www.facebook.com/madeindaejeon"><img src="img/facebook-logo.png"/></a>
                    <p>Copyright &copy; HJ Blog</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>
